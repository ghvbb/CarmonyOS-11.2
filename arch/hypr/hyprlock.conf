general {
    disable_loading_bar = false
    hide_cursor = false
    grace = 0
    no_fade_in = false
    no_fade_out = false
    ignore_empty_input = true
}

# ━━━ BACKGROUND ━━━
background {
    monitor =
    path = /home/zxa/.cache/current_wallpaper.png
    blur_passes = 4
    blur_size = 8
    noise = 0.01
    contrast = 0.9
    brightness = 0.45
    vibrancy = 0.2
    vibrancy_darkness = 0.3
}

# ━━━━━━━━━━━━━━━━━━━━━━━━━
# ━━━ CLOCK ━━━
# ━━━━━━━━━━━━━━━━━━━━━━━━━

# Time
label {
    monitor =
    text = cmd[update:1000] echo "$(date +"%I:%M")"
    color = rgba(255, 255, 255, 1.0)
    font_size = 120
    font_family = Google Sans Display
    position = 0, 310
    halign = center
    valign = center
    shadow_passes = 2
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.7)
}

# AM/PM Badge
shape {
    monitor =
    size = 70, 35
    color = rgba(255, 255, 255, 0.15)
    rounding = 10
    border_size = 0
    position = 0, 225
    halign = center
    valign = center
}

label {
    monitor =
    text = cmd[update:1000] echo "$(date +"%p")"
    color = rgba(255, 255, 255, 0.9)
    font_size = 16
    font_family = Google Sans Display
    position = 0, 225
    halign = center
    valign = center
}

# Date
label {
    monitor =
    text = cmd[update:60000] echo "$(date +"%A, %B %d")"
    color = rgba(255, 255, 255, 0.5)
    font_size = 16
    font_family = Google Sans Display
    position = 0, 180
    halign = center
    valign = center
}

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ━━━ CENTRAL CARD (Frosted Glass) ━━━
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Outer ambient glow
shape {
    monitor =
    size = 360, 400
    color = rgba(0, 0, 0, 0.0)
    rounding = 28
    border_size = 0
    position = 0, -48
    halign = center
    valign = center
    shadow_passes = 4
    shadow_size = 30
    shadow_color = rgba(0, 0, 0, 0.5)
}

# Main card body
shape {
    monitor =
    size = 350, 390
    color = rgba(10, 10, 20, 0.35)
    rounding = 24
    border_size = 1
    border_color = rgba(255, 255, 255, 0.08)
    position = 0, -48
    halign = center
    valign = center
}

# Top edge glass reflection
shape {
    monitor =
    size = 300, 1
    color = rgba(255, 255, 255, 0.06)
    rounding = 1
    border_size = 0
    position = 0, 143
    halign = center
    valign = center
}

# ━━━━━━━━━━━━━━━━━━━━━━━━━
# ━━━ USER ━━━
# ━━━━━━━━━━━━━━━━━━━━━━━━━

# Avatar Ring
shape {
    monitor =
    size = 110, 110
    color = rgba(255, 255, 255, 0.08)
    rounding = -1
    border_size = 2
    border_color = rgba(255, 255, 255, 0.15)
    position = 0, 80
    halign = center
    valign = center
    shadow_passes = 2
    shadow_size = 10
    shadow_color = rgba(0, 0, 0, 0.3)
}

# Avatar Background
shape {
    monitor =
    size = 90, 90
    color = rgba(20, 20, 30, 0.9)
    rounding = -1
    border_size = 0
    position = 0, 80
    halign = center
    valign = center
}

# User Initial
label {
    monitor =
    text = Z
    color = rgba(255, 255, 255, 1.0)
    font_size = 38
    font_family = Google Sans Display
    position = 0, 80
    halign = center
    valign = center
}

# Username
label {
    monitor =
    text = $USER
    color = rgba(255, 255, 255, 0.9)
    font_size = 18
    font_family = Google Sans Display Bold
    position = 0, 5
    halign = center
    valign = center
}

# Dynamic Greeting
label {
    monitor =
    text = cmd[update:60000] echo "$(h=$(date +%H); [ $h -lt 12 ] && echo '󰖔  Good Morning' || ([ $h -lt 18 ] && echo '  Good Afternoon' || echo '󰖐  Good Evening'))"
    color = rgba(255, 255, 255, 0.3)
    font_size = 12
    font_family = Google Sans Display
    position = 0, -18
    halign = center
    valign = center
}

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ━━━ PASSWORD INPUT ━━━
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

input-field {
    monitor =
    size = 280, 48
    outline_thickness = 2
    dots_size = 0.25
    dots_spacing = 0.15
    dots_center = true
    dots_rounding = -1.5
    dots_fade_time = 100
    outer_color = rgba(255, 255, 255, 0.1)
    inner_color = rgba(0, 0, 0, 0.4)
    font_color = rgba(255, 255, 255, 1.0)
    fade_on_empty = true
    fade_timeout = 1500
    placeholder_text = <span foreground="##ffffff55">󰌾  Password</span>
    hide_input = false
    rounding = 14
    check_color = rgba(120, 255, 180, 1.0)
    fail_color = rgba(255, 100, 100, 1.0)
    fail_text = <span foreground="##ff6b6b">󰅜  Wrong Password</span>
    fail_timeout = 2000
    fail_transition = 300
    capslock_color = rgba(255, 180, 80, 1.0)
    position = 0, -75
    halign = center
    valign = center
    shadow_passes = 1
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.2)
}

# ━━━ DIVIDER ━━━
shape {
    monitor =
    size = 220, 1
    color = rgba(255, 255, 255, 0.06)
    rounding = 1
    border_size = 0
    position = 0, -122
    halign = center
    valign = center
}

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ━━━ NOW PLAYING (playerctl) ━━━
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Inner music panel
shape {
    monitor =
    size = 300, 100
    color = rgba(255, 255, 255, 0.03)
    rounding = 14
    border_size = 2
    border_color = rgba(255, 255, 255, 0.04)
    position = 0, -178
    halign = center
    valign = center
}

# Status icon  󰐊 playing │ 󰏤 paused │ 󰝚 nothing
label {
    monitor =
    text = cmd[update:1000] echo "$(s=$(playerctl status 2>/dev/null); [ "$s" = "Playing" ] && echo '󰐊' || ([ "$s" = "Paused" ] && echo '󰏤' || echo '󰽳'))"
    color = rgba(255, 255, 255, 0.45)
    font_size = 18
    font_family = Google Sans Display
    position = 0, -148
    halign = center
    valign = center
}

# Song Title (or "No Music")
label {
    monitor =
    text = cmd[update:1000] echo "$(playerctl metadata title 2>/dev/null | cut -c1-32 | grep . || echo 'No Music')"
    color = rgba(255, 255, 255, 0.85)
    font_size = 13
    font_family = Google Sans Display Bold
    position = 0, -178
    halign = center
    valign = center
}

# Artist (or "Nothing is playing")
label {
    monitor =
    text = cmd[update:1000] echo "$(playerctl metadata artist 2>/dev/null | cut -c1-35 | grep . || echo 'Nothing is playing')"
    color = rgba(255, 255, 255, 0.35)
    font_size = 11
    font_family = Google Sans Display
    position = 0, -200
    halign = center
    valign = center
}
