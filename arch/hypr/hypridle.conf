general {
    # Lock command (used by loginctl lock-session)
    lock_cmd = pidof hyprlock || hyprlock
    
    # Unlock command (what to do when you wake up)
    # This ensures the screen turns back on when you press a key
    after_sleep_cmd = hyprctl dispatch dpms on
}

# --- 5 MINUTES: Screensaver ---
listener {
    timeout = 300                           # 5 minutes
    # IMPORTANT: Depending on your script, you might need to kill it 
    # when you return. If your script doesn't exit automatically on input, 
    # uncomment the line below and adjust the process name:
    # on-resume = pkill -f screensaver.sh
}

# --- 10 MINUTES: Lock Screen ---
listener {
    timeout = 600                            # 10 minutes
    on-timeout = loginctl lock-session       # Triggers the lock_cmd defined in general
}

# --- 15 MINUTES: Screen Off (DPMS) Only ---
listener {
    timeout = 900                            # 15 minutes
    on-timeout = hyprctl dispatch dpms off   # Turns off the monitor signal
    on-resume = hyprctl dispatch dpms on     # Turns on the monitor signal immediately on activity
}
